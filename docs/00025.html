<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Configuring the MHC</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '00025.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="00012.html" target="topic">BM64 Bluetooth Driver Library</a> &gt; <a href="00025.html" target="topic">Configuring the MHC</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Bluetooth Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00015.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="00000.html" target="topic">Previous</a> | <a href="00012.html" target="topic">Up</a> | <a href="00022.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV BLUETOOTH BM64 Configuring the MHC Topic Title: Configuring the MHC)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Configuring the MHC</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
When building a new application, start by creating a 32-bit MPLAB Harmony 3 project in MPLAB X IDE by selecting <i>File &gt; New Project</i>. Chose the Configuration name the based on the BSP, and select the appropriate processor (e.g. ATSAME70Q21B).&nbsp;</p>
<p class="Element10">
In MHC, under Available Components select the appropriate BSP, such as SAM E70 Xplained Ultra. Under <i>Bluetooth-&gt;Templates</i>, double-click on BM64 Bluetooth. Answer Yes to all questions.&nbsp;</p>
<p class="Element10">
You should end up with a project graph that looks like this, after rearranging the boxes: </p><p class="Element10" style="text-align: center;">
<img src="APPS BT BM64 BLE comm Project Graph.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p><p class="Element10">
The default is for no audio. If you are going to be using audio with the BM64 (not currently supported on the SAM E70 Xplained Ultra board), then click on the BM64 Bluetooth box in the Project Graph (<i>not </i>BM64 Driver), and in the Configuration Options, select I2SC instead of No Audio under BM64 Interface. The following additional components will be added to the graph: I2S Driver, and I2SC1 Peripheral Library.&nbsp;</p>
<p class="Element10">
The following figure shows an example MHC configuration for the BM64 Bluetooth Driver. </p><p class="Element10" style="text-align: center;">
<img src="DRV BT BM64 MHC.png" border="0" alt="" title=""></p><p class="Element10">
The option <strong>Include Deprecated MMI Commands?</strong> identifies whether you intend to use the 1.0 or 2.0 version of the BM64 Audio UART Command Set, which is used by the MCU to send commands to the BM64 module and receive responses (events) back from the BM64. Version 2.0x deprecates some MMI commands, and adds some new commands to replace them.&nbsp;</p>
<p class="Element10">
The option <strong>Include HFP,A2DP,AVRCP protocols?</strong> identifies whether the driver should include the interface to support HFP, A2DP and AVRCP protocols. If you are building a BLE-only application with no audio, leave this option unchecked.&nbsp;</p>
<p class="Element10">
The option <strong>Include BLE features?</strong> identifies whether the driver should include BLE functions. If you are not using any BLE functionality, uncheck this option.&nbsp;</p>
<p class="Element10">
You can also bring in the BM64 Driver by itself, by double clicking BM64 under <i>Bluetooth-&gt;Driver</i> in the Available Components list. You will then need to add any additional needed components manually and connect them together.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="00012.html" target="topic">BM64 Bluetooth Driver Library</a> &gt; <a href="00025.html" target="topic">Configuring the MHC</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
MPLAB Harmony Bluetooth Help</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="00015.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="00000.html" target="topic">Previous</a> | <a href="00012.html" target="topic">Up</a> | <a href="00022.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV BLUETOOTH BM64 Configuring the MHC Topic Title: Configuring the MHC)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>